*This will work only on SLURM job management environment*

About:
Assembly package assembles genome with trimmomatic and SPAdes tools. Quast reports are generated for scaffolds and contig fasta files. 
Script also generates report on Scaffolds coverage, calculated based on last K-mer in SPAdes. This file is generated using scaffolds.fasta file generated by SPAdes.

* Run this script within output directory
* -s flag for things to do: assemble, and/or SRST
* Output folder must have SRST files: mlst definition, and FASTA file
* accordingly edit automate_process.sh for mlst_db variable and delimiter
* create symlinks for all isolates in one folder
* -d flag takes path for all isolates' fastq.gz.


Step - 1:
Run as 

bash path_to_assembly_folder/assembly_pipeline.sh 
this will give help and how to use this script.

Example:

bash /assembly_folder/assembly_pipeline.sh -o ./ -s things_to_do -d /path_to_isolate_directory/ -a /path_to_illumina_file/sample_illumina.fasta -i /path_to_filew_with_ONLY_isolate_names/sample_isolate.txt 

Options:

-d path to directory for isolates. [mandatory]

-o path to output directory [mandatory]

-a illumina adapter file [mandatory]

-i file containing isolate names only [mandatory]

-s what all script has to do:
   4 : only assemble
   3 : only sequence type using SRST2
   7 : assemble and sequence type using SRST2
    
--

Step -2:
After all jobs (coverage and genome assembly) are complete. To consolidate quast reports for scaffolds and contigs run gather_quality.sh

bash /path_to_assembly_folder/gather_quality.sh -d output_directory_assembled_genome

#
Notes:
1.
This pipeline works on auto identification of SPAdes for read length and thus rely on SPAdes K-mer value.

--
END
